{% extends "base.html" %}

{% block title %}æ—©é£Ÿã„é˜²æ­¢ã‚¢ãƒ—ãƒª - My App{% endblock %}

{% block content %}

<head>
  <!-- Bootstrapã‚¢ã‚¤ã‚³ãƒ³ -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/chew_style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/start_stop.css') }}">
  <style>
  #video {
    visibility: hidden !important;
    opacity: 0 !important;
    position: absolute !important;
    z-index: -9999 !important;
  }
  </style>
</head>
<body>
    <!-- bgmã®æŒ¿å…¥ -->
    <audio id="bgmPlayer" loop>
        <source src="{{ url_for('static', filename='audio/bgm.mp3') }}" type="audio/mpeg">
        ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°ã®å†ç”Ÿã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚
    </audio>

    <header class="header">
        <h1 class="header-title">Chew-Weather ğŸ½ï¸</h1>
        <p class="header-subtitle">å’€åš¼ãƒšãƒ¼ã‚¹ã§å¤©æ°—ãŒå¤‰ã‚ã‚‹æ—©é£Ÿã„é˜²æ­¢ã‚¢ãƒ—ãƒª</p>
    </header>

    <div class="main-container">
        <div class="video-container">
            <video id="video" width="640" height="480" autoplay muted playsinline></video>
            <canvas id="canvas" width="640" height="480"></canvas>
        </div>

        <div class="controls-and-data">
            <button id="startResetBtn">è¨ˆæ¸¬é–‹å§‹</button>

            <div id="weatherDisplay" class="weather-display waiting">
                <div id="weatherIcon">â˜ï¸</div>
                <div id="weatherLabel">å¾…æ©Ÿä¸­</div>
                <p id="weatherMessage">ã€Œè¨ˆæ¸¬é–‹å§‹ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„</p>
            </div>

            <div class="stats-card">
                <h2>è¨ˆæ¸¬ãƒ‡ãƒ¼ã‚¿</h2>
                <div class="stat-item">
                    <span>åˆè¨ˆå’€åš¼å›æ•°:</span>
                    <span id="totalChews">0</span>
                </div>
                <div class="stat-item">
                    <span>çµŒéæ™‚é–“:</span>
                    <span id="elapsedTime">0:00</span>
                </div>
                <div class="stat-item">
                    <span>ç¾åœ¨ã®ãƒšãƒ¼ã‚¹:</span>
                    <span id="pace">0 å›/åˆ†</span>
                </div>
            </div>
        </div>

        <!-- === å†ç”Ÿãƒ»åœæ­¢ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ === -->
        <div class="fab-container">
            <button id="fab-main" class="fab fab-primary">
                <i class="bi bi-play-fill"></i>
            </button>
            <button id="fab-stop" class="fab fab-danger fab-stop">
                <i class="bi bi-stop-fill"></i>
            </button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>

    <!-- == <script src="./your_script_name.js"></script> == -->
    <script src="{{ url_for('static', filename='js/chew_animation.js') }}"></script>
    <script src="{{ url_for('static', filename='js/start_stop.js') }}"></script>

    <!-- é–‹å§‹ãƒœã‚¿ãƒ³ã¨bgmã®å¯¾å¿œ -->
    <script src="{{ url_for('static', filename='js/music_start.js')}}"></script>

</body>
</html>

{% endblock %}
